<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroApp - Gesti칩n Ganadera Michoac치n</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f9f0;
            color: #333;
            max-width: 500px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
        }

        .app-container {
            min-height: 100vh;
            position: relative;
        }

        /* Pantalla de Login */
        .login-screen {
            min-height: 100vh;
            background: linear-gradient(to bottom, #16a34a, #15803d);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .login-card {
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-icon {
            width: 6rem;
            height: 6rem;
            background-color: #dcfce7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .login-icon i {
            font-size: 3rem;
            color: #16a34a;
        }

        .login-title {
            font-size: 1.875rem;
            font-weight: bold;
            color: #1f2937;
        }

        .login-subtitle {
            color: #6b7280;
            margin-top: 0.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            color: #374151;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.75rem;
            font-size: 1.125rem;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #16a34a;
        }

        .password-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
        }

        .login-button {
            width: 100%;
            background-color: #16a34a;
            color: white;
            border-radius: 0.75rem;
            padding: 1rem;
            font-weight: bold;
            font-size: 1.25rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 1rem;
        }

        .login-button:active {
            transform: scale(0.95);
        }

        .login-footer {
            text-align: center;
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 1rem;
        }

        .version {
            text-align: center;
            color: white;
            font-size: 0.875rem;
            margin-top: 1.5rem;
        }

        /* Header */
        .header {
            background-color: #16a34a;
            color: white;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .user-avatar {
            width: 3rem;
            height: 3rem;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-details p:first-child {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .user-details p:last-child {
            font-weight: bold;
            font-size: 1.125rem;
        }

        .logout-button {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.75rem;
            border-radius: 50%;
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .logout-button:active {
            transform: scale(0.95);
        }

        .app-title {
            font-size: 1.875rem;
            font-weight: bold;
            text-align: center;
        }

        .app-subtitle {
            text-align: center;
            color: #bbf7d0;
            margin-top: 0.5rem;
        }

        /* Alertas */
        .alert {
            padding: 1rem;
            margin: 1rem;
            border-radius: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .alert-warning {
            background-color: #fef3c7;
            border: 2px solid #f59e0b;
        }

        .alert-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }

        .alert-warning .alert-icon {
            color: #d97706;
        }

        .alert-content p:first-child {
            font-weight: bold;
            color: #92400e;
        }

        .alert-content p:last-child {
            font-size: 0.875rem;
            color: #92400e;
            margin-top: 0.25rem;
        }

        /* Tarjetas */
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin: 1rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        /* Grid de estad칤sticas */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .stat-card {
            padding: 1rem;
            border-radius: 0.75rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2.25rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: #6b7280;
        }

        .stat-green {
            background-color: #dcfce7;
            color: #166534;
        }

        .stat-blue {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .stat-purple {
            background-color: #f3e8ff;
            color: #7e22ce;
        }

        .stat-red {
            background-color: #fee2e2;
            color: #dc2626;
        }

        /* Botones de men칰 */
        .menu-container {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .menu-button {
            width: 100%;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            color: white;
            text-align: left;
        }

        .menu-button:active {
            transform: scale(0.98);
        }

        .menu-button-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .menu-icon {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.75rem;
            border-radius: 0.75rem;
        }

        .menu-text p:first-child {
            font-size: 1.25rem;
            font-weight: bold;
        }

        .menu-text p:last-child {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .menu-arrow {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .badge {
            background-color: white;
            color: #dc2626;
            font-weight: bold;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }

        /* Colores de botones */
        .btn-green {
            background-color: #16a34a;
        }

        .btn-blue {
            background-color: #3b82f6;
        }

        .btn-red {
            background-color: #ef4444;
        }

        .btn-yellow {
            background-color: #eab308;
        }

        .btn-purple {
            background-color: #8b5cf6;
        }

        .btn-orange {
            background-color: #f97316;
        }

        .btn-indigo {
            background-color: #6366f1;
        }

        /* B칰squeda y filtros */
        .search-container {
            background-color: white;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .search-box {
            position: relative;
            margin-bottom: 0.75rem;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 2px solid #d1d5db;
            border-radius: 0.75rem;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: #16a34a;
        }

        .filter-container {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .filter-button {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            white-space: nowrap;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-active {
            background-color: #16a34a;
            color: white;
        }

        .filter-inactive {
            background-color: #e5e7eb;
            color: #374151;
        }

        /* Lista de animales */
        .animals-list {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding-bottom: 5rem;
        }

        .animal-card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.25rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
            cursor: pointer;
        }

        .animal-card:active {
            transform: scale(0.98);
        }

        .animal-card-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .animal-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .animal-avatar {
            width: 4rem;
            height: 4rem;
            background-color: #dcfce7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .animal-avatar i {
            font-size: 2rem;
            color: #16a34a;
        }

        .animal-details p:first-child {
            font-size: 1.25rem;
            font-weight: bold;
            color: #1f2937;
        }

        .animal-details p:nth-child(2) {
            color: #6b7280;
        }

        .animal-details p:last-child {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .animal-status {
            text-align: right;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .status-sano {
            background-color: #dcfce7;
            color: #166534;
        }

        .status-enfermo {
            background-color: #fef2f2;
            color: #dc2626;
        }

        .status-vendido {
            background-color: #f3e8ff;
            color: #7e22ce;
        }

        .status-muerto {
            background-color: #f3f4f6;
            color: #374151;
        }

        .animal-weight {
            color: #6b7280;
            font-size: 0.875rem;
        }

        /* Detalle de animal */
        .animal-detail-container {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding-bottom: 5rem;
        }

        .animal-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .animal-main-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .animal-large-avatar {
            width: 5rem;
            height: 5rem;
            background-color: #dcfce7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .animal-large-avatar i {
            font-size: 2.5rem;
            color: #16a34a;
        }

        .animal-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }

        .animal-id {
            color: #6b7280;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            font-size: 0.875rem;
        }

        .info-label {
            color: #6b7280;
            font-size: 0.75rem;
        }

        .info-value {
            color: #1f2937;
            font-weight: 600;
        }

        /* Tarjeta de inversi칩n */
        .investment-card {
            background: linear-gradient(to right, #16a34a, #15803d);
            color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .investment-title {
            font-size: 1.125rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .investment-value {
            font-size: 2.25rem;
            font-weight: bold;
        }

        .investment-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
            font-size: 0.875rem;
        }

        .investment-item p:first-child {
            opacity: 0.75;
        }

        .investment-item p:last-child {
            font-size: 1.25rem;
            font-weight: bold;
        }

        .profit-loss {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.75rem;
        }

        .profit {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .loss {
            background-color: rgba(239, 68, 68, 0.3);
        }

        .profit-loss p:first-child {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .profit-loss p:last-child {
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* Grid de acciones */
        .actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .action-button {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            color: white;
        }

        .action-button:active {
            transform: scale(0.95);
        }

        .action-button i {
            font-size: 2rem;
        }

        .action-label {
            font-weight: 600;
        }

        /* Botones de acci칩n grandes */
        .action-large {
            width: 100%;
            border-radius: 1rem;
            padding: 1.25rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            color: white;
            font-weight: bold;
            font-size: 1.125rem;
        }

        .action-large:active {
            transform: scale(0.98);
        }

        /* Notificaci칩n */
        .notification {
            position: fixed;
            top: 1rem;
            left: 1rem;
            right: 1rem;
            background-color: #16a34a;
            color: white;
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            z-index: 50;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Bot칩n flotante de inicio */
        .home-button {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            background-color: #16a34a;
            color: white;
            padding: 1rem;
            border-radius: 50%;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            z-index: 40;
        }

        .home-button:active {
            transform: scale(0.95);
        }

        .home-button i {
            font-size: 1.75rem;
        }

        /* Estado vac칤o */
        .empty-state {
            text-align: center;
            padding: 5rem 1rem;
            color: #6b7280;
        }

        .empty-state i {
            font-size: 5rem;
            color: #d1d5db;
            margin-bottom: 1rem;
        }

        .empty-state p {
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
        }

        .empty-state button {
            color: #16a34a;
            font-weight: 600;
            background: none;
            border: none;
            cursor: pointer;
            margin-top: 1rem;
        }

        /* Formularios */
        .form-container {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding-bottom: 5rem;
        }

        .photo-upload {
            margin-bottom: 1.5rem;
        }

        .photo-label {
            display: block;
            color: #374151;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.125rem;
        }

        .photo-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .photo-frame {
            width: 8rem;
            height: 8rem;
            border-radius: 50%;
            border: 4px solid #16a34a;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .photo-placeholder {
            width: 8rem;
            height: 8rem;
            background-color: #f3f4f6;
            border-radius: 50%;
            border: 4px dashed #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .photo-placeholder i {
            font-size: 3rem;
            color: #9ca3af;
        }

        .photo-remove {
            position: absolute;
            top: 0;
            right: 0;
            background-color: #ef4444;
            color: white;
            border-radius: 50%;
            padding: 0.5rem;
            cursor: pointer;
        }

        .photo-capture {
            position: absolute;
            bottom: 0;
            right: 0;
            background-color: #16a34a;
            color: white;
            border-radius: 50%;
            padding: 0.75rem;
            cursor: pointer;
        }

        .photo-capture i {
            font-size: 1.25rem;
        }

        .photo-hint {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }

        .radio-group {
            margin-bottom: 1rem;
        }

        .radio-label {
            display: block;
            color: #374151;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.125rem;
        }

        .radio-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .radio-button {
            padding: 1rem;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1.125rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .radio-button:active {
            transform: scale(0.98);
        }

        .radio-active {
            background-color: #16a34a;
            color: white;
        }

        .radio-inactive {
            background-color: #f3f4f6;
            color: #374151;
        }

        .select-container {
            margin-bottom: 1rem;
        }

        .select-label {
            display: block;
            color: #374151;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.125rem;
        }

        .select-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.75rem;
            font-size: 1.125rem;
            background-color: white;
        }

        .select-input:focus {
            outline: none;
            border-color: #16a34a;
        }

        /* Selecci칩n de animales */
        .animal-selection {
            margin-top: 1rem;
        }

        .selection-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .selection-title {
            font-size: 1.125rem;
            font-weight: bold;
            color: #1f2937;
        }

        .select-all-button {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .select-all-active {
            background-color: #f97316;
            color: white;
        }

        .select-all-inactive {
            background-color: #e5e7eb;
            color: #374151;
        }

        .animal-selection-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .animal-selection-item {
            padding: 1rem;
            border-radius: 0.75rem;
            border: 2px solid #e5e7eb;
            background-color: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .animal-selection-item:active {
            transform: scale(0.98);
        }

        .animal-selection-item.selected {
            border-color: #f97316;
            background-color: #ffedd5;
        }

        .animal-selection-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .animal-selection-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .selection-checkbox {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            border: 2px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .selection-checkbox.selected {
            border-color: #f97316;
            background-color: #f97316;
        }

        .selection-checkbox.selected i {
            color: white;
            font-size: 0.875rem;
        }

        .animal-selection-details p:first-child {
            font-weight: bold;
            color: #1f2937;
        }

        .animal-selection-details p:last-child {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .animal-selection-breed {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .price-per-animal {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #dcfce7;
            border-radius: 0.75rem;
            border: 2px solid #bbf7d0;
        }

        .price-per-animal p:first-child {
            font-size: 0.875rem;
            color: #374151;
            margin-bottom: 0.25rem;
        }

        .price-per-animal p:nth-child(2) {
            font-size: 1.5rem;
            font-weight: bold;
            color: #166534;
        }

        .price-per-animal p:last-child {
            font-size: 0.875rem;
            color: #374151;
            margin-top: 0.25rem;
        }

        /* Pesta침as */
        .tabs-container {
            display: flex;
            gap: 0.75rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-active {
            background-color: #16a34a;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .tab-inactive {
            background-color: white;
            color: #374151;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        /* Elementos de recomendaci칩n */
        .recommendation-item {
            padding: 1rem;
            background-color: #dcfce7;
            border-radius: 0.75rem;
            border-left: 4px solid #16a34a;
            margin-bottom: 1rem;
        }

        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .recommendation-name {
            font-weight: bold;
            color: #1f2937;
        }

        .recommendation-quantity {
            background-color: #bbf7d0;
            color: #166534;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .recommendation-description {
            font-size: 0.875rem;
            color: #374151;
        }

        /* Recordatorios */
        .reminder-card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.25rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
        }

        .reminder-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }

        .reminder-title {
            font-size: 1.125rem;
            font-weight: bold;
            color: #1f2937;
        }

        .reminder-time {
            font-size: 1.5rem;
            font-weight: bold;
            color: #8b5cf6;
            margin-top: 0.25rem;
        }

        .reminder-status {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .status-active {
            background-color: #dcfce7;
            color: #166534;
        }

        .status-inactive {
            background-color: #f3f4f6;
            color: #374151;
        }

        .reminder-days {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        .day-badge {
            background-color: #f3e8ff;
            color: #7c3aed;
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
        }

        /* Campo personalizado de raza */
        .custom-breed-input {
            margin-top: 0.75rem;
            animation: slideDown 0.3s ease-out;
        }

        /* Contenido de tabs */
        .tab-content {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .vaccine-item, .history-item, .expense-item, .feeding-item {
            padding: 1rem;
            background-color: #f9fafb;
            border-radius: 0.75rem;
            margin-bottom: 0.75rem;
            border-left: 4px solid #16a34a;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .item-title {
            font-weight: bold;
            color: #1f2937;
            font-size: 1.125rem;
        }

        .item-date {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .item-details {
            color: #374151;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .item-cost {
            color: #16a34a;
            font-weight: bold;
            font-size: 1.25rem;
            margin-top: 0.5rem;
        }

        .total-section {
            background-color: #dcfce7;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1rem;
            text-align: center;
        }

        .total-label {
            color: #374151;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .total-amount {
            color: #166534;
            font-size: 2rem;
            font-weight: bold;
        }

        /* Ocultar elementos */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Pantalla de Login -->
        <div id="login-screen" class="login-screen">
            <div class="login-card">
                <div class="login-header">
                    <div class="login-icon">
                        <i class="fas fa-cow"></i>
                    </div>
                    <h1 class="login-title">AgroApp</h1>
                    <p class="login-subtitle">Gesti칩n Ganadera Michoac치n</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Usuario</label>
                    <input type="text" id="username" class="form-input" placeholder="Ingresa tu usuario">
                </div>

                <div class="form-group">
                    <label class="form-label">Contrase침a</label>
                    <div class="password-container">
                        <input type="password" id="password" class="form-input" placeholder="Ingresa tu contrase침a">
                        <button class="password-toggle" id="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <button class="login-button" id="login-button">Iniciar Sesi칩n</button>

                <p class="login-footer">쯆lvidaste tu contrase침a? Contacta al administrador</p>
            </div>

            <p class="version">Versi칩n 1.0 - Offline First</p>
        </div>

        <!-- Pantalla Principal -->
        <div id="home-screen" class="hidden">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-details">
                            <p>Bienvenido</p>
                            <p id="user-name">Usuario</p>
                        </div>
                    </div>
                    <button class="logout-button" id="logout-button">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <h1 class="app-title">游낷 AgroApp</h1>
                <p class="app-subtitle">Gesti칩n Ganadera Michoac치n</p>
            </div>

            <!-- Alertas de vacunas -->
            <div id="vaccine-alert" class="alert alert-warning hidden">
                <i class="fas fa-bell alert-icon"></i>
                <div class="alert-content">
                    <p>춰Atenci칩n!</p>
                    <p id="vaccine-alert-text">Tienes 0 vacunas pr칩ximas en los pr칩ximos 30 d칤as</p>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">Mi Ganado</h2>
                <div class="stats-grid">
                    <div class="stat-card stat-green">
                        <p class="stat-value" id="active-animals">0</p>
                        <p class="stat-label">Activos</p>
                    </div>
                    <div class="stat-card stat-blue">
                        <p class="stat-value" id="healthy-animals">0</p>
                        <p class="stat-label">Sanos</p>
                    </div>
                    <div class="stat-card stat-purple">
                        <p class="stat-value" id="sold-animals">0</p>
                        <p class="stat-label">Vendidos</p>
                    </div>
                    <div class="stat-card stat-red">
                        <p class="stat-value" id="dead-animals">0</p>
                        <p class="stat-label">Fallecidos</p>
                    </div>
                </div>
            </div>

            <!-- Men칰 principal -->
            <div class="menu-container">
                <button class="menu-button btn-green" data-screen="animals">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-cow"></i>
                        </div>
                        <div class="menu-text">
                            <p>Mis Animales</p>
                            <p>Ver y gestionar ganado</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-blue" data-screen="add-animal">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-plus"></i>
                        </div>
                        <div class="menu-text">
                            <p>Registrar Animal</p>
                            <p>Agregar nuevo animal</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-orange" data-screen="add-purchase">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="menu-text">
                            <p>Registro de Compras</p>
                            <p>Alimento y gastos</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-red" data-screen="calendar">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-syringe"></i>
                        </div>
                        <div class="menu-text">
                            <p>Calendario Sanitario</p>
                            <p>Vacunas pr칩ximas</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <div id="vaccine-badge" class="badge hidden">0</div>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-yellow" data-screen="investments">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="menu-text">
                            <p>Inversiones</p>
                            <p>Control de gastos</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-purple" data-screen="reminders">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="menu-text">
                            <p>Recordatorios</p>
                            <p>Programar notificaciones</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>

                <button class="menu-button btn-indigo" data-screen="recommendations">
                    <div class="menu-button-content">
                        <div class="menu-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="menu-text">
                            <p>Recomendaciones</p>
                            <p>Gu칤a nutricional</p>
                        </div>
                    </div>
                    <div class="menu-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </button>
            </div>
        </div>

        <!-- Lista de Animales -->
        <div id="animals-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-animals" class="logout-button">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Mis Animales</h2>
                    </div>
                </div>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="animal-search" class="search-input" placeholder="Buscar por nombre o arete...">
                </div>
                <div class="filter-container">
                    <button class="filter-button filter-active" data-filter="all">Todos</button>
                    <button class="filter-button filter-inactive" data-filter="activos">Activos</button>
                    <button class="filter-button filter-inactive" data-filter="Sano">Sano</button>
                    <button class="filter-button filter-inactive" data-filter="Enfermo">Enfermo</button>
                    <button class="filter-button filter-inactive" data-filter="vendidos">Vendidos</button>
                    <button class="filter-button filter-inactive" data-filter="muertos">Fallecidos</button>
                </div>
            </div>

            <div id="animals-list" class="animals-list">
                <!-- Los animales se cargar치n aqu칤 din치micamente -->
            </div>
        </div>

        <!-- Detalle de Animal -->
        <div id="animal-detail-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-detail" class="logout-button">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 id="detail-animal-name" class="app-title">Detalle del Animal</h2>
                    </div>
                    <button id="edit-animal" class="logout-button">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>

            <div id="animal-detail-container" class="animal-detail-container">
                <!-- Los detalles del animal se cargar치n aqu칤 din치micamente -->
            </div>
        </div>

        <!-- Registrar Animal -->
        <div id="add-animal-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-add" class="logout-button">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Registrar Animal</h2>
                    </div>
                </div>
            </div>

            <div class="form-container">
                <div class="card">
                    <div class="photo-upload">
                        <label class="photo-label">Foto del Animal</label>
                        <div class="photo-preview">
                            <div id="photo-frame" class="photo-frame hidden">
                                <img id="animal-photo" src="" alt="Foto del animal">
                                <button id="remove-photo" class="photo-remove">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <label id="photo-placeholder" class="photo-placeholder">
                                <i class="fas fa-camera"></i>
                                <input type="file" id="photo-input" accept="image/*" class="hidden">
                            </label>
                            <p class="photo-hint">Toca para capturar foto</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">N칰mero de Arete * (10 d칤gitos)</label>
                        <input type="text" id="animal-arete" class="form-input" placeholder="1600000001" maxlength="10">
                    </div>

                    <div class="select-container">
                        <label class="select-label">Raza *</label>
                        <select id="animal-breed" class="select-input">
                            <option>Holstein</option>
                            <option>Suizo</option>
                            <option>Jersey</option>
                            <option>Brahman</option>
                            <option>Angus</option>
                            <option>Charolais</option>
                            <option>Simmental</option>
                            <option>Criollo</option>
                            <option>Otra</option>
                        </select>
                        <div id="custom-breed-container" class="custom-breed-input hidden">
                            <input type="text" id="custom-breed" class="form-input" placeholder="Escribe la raza del animal">
                        </div>
                    </div>

                    <div class="radio-group">
                        <label class="radio-label">Sexo *</label>
                        <div class="radio-buttons">
                            <button id="female-button" class="radio-button radio-active">Hembra</button>
                            <button id="male-button" class="radio-button radio-inactive">Macho</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Peso (kg) *</label>
                        <input type="number" id="animal-weight" class="form-input" placeholder="450">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Precio de Compra (MXN) *</label>
                        <input type="number" id="animal-price" class="form-input" placeholder="15000">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Fecha de Nacimiento</label>
                        <input type="date" id="animal-birthdate" class="form-input">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Color</label>
                        <input type="text" id="animal-color" class="form-input" placeholder="Ej: Blanco/Negro">
                    </div>
                </div>

                <button id="save-animal" class="action-large btn-green">Guardar Animal</button>
            </div>
        </div>

        <!-- Registro de Compras -->
        <div id="add-purchase-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-purchases" class="logout-button" onclick="showScreen('home')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Registro de Compras</h2>
                    </div>
                </div>
            </div>

            <div class="form-container">
                <div class="card">
                    <div class="form-group">
                        <label class="form-label">Nombre de la Compra *</label>
                        <input type="text" class="form-input" placeholder="Ej: Alfalfa, Vitaminas, Sal mineral">
                    </div>

                    <div class="radio-group">
                        <label class="radio-label">Tipo de Compra *</label>
                        <div class="radio-buttons">
                            <button class="radio-button radio-active">游 Alimento</button>
                            <button class="radio-button radio-inactive">游눍 Gasto M칠dico</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Precio Total (MXN) *</label>
                        <input type="number" class="form-input" placeholder="1500">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Fecha de Compra *</label>
                        <input type="date" class="form-input">
                    </div>
                </div>

                <div class="card">
                    <div class="selection-header">
                        <h3 class="selection-title">Seleccionar Animales *</h3>
                        <button class="select-all-button select-all-inactive">Todos</button>
                    </div>

                    <div class="animal-selection-list">
                        <div class="animal-selection-item">
                            <div class="animal-selection-content">
                                <div class="animal-selection-info">
                                    <div class="selection-checkbox">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="animal-selection-details">
                                        <p>Paloma</p>
                                        <p>Arete: 1600000001</p>
                                    </div>
                                </div>
                                <p class="animal-selection-breed">Holstein</p>
                            </div>
                        </div>

                        <div class="animal-selection-item selected">
                            <div class="animal-selection-content">
                                <div class="animal-selection-info">
                                    <div class="selection-checkbox selected">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="animal-selection-details">
                                        <p>Luna</p>
                                        <p>Arete: 1600000002</p>
                                    </div>
                                </div>
                                <p class="animal-selection-breed">Jersey</p>
                            </div>
                        </div>

                        <div class="animal-selection-item">
                            <div class="animal-selection-content">
                                <div class="animal-selection-info">
                                    <div class="selection-checkbox">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="animal-selection-details">
                                        <p>Estrella</p>
                                        <p>Arete: 1600000003</p>
                                    </div>
                                </div>
                                <p class="animal-selection-breed">Brahman</p>
                            </div>
                        </div>
                    </div>

                    <div class="price-per-animal">
                        <p>Precio por animal</p>
                        <p>$750.00 MXN</p>
                        <p>Total: $1,500.00 / 2 animales</p>
                    </div>
                </div>

                <button class="action-large btn-orange">
                    <i class="fas fa-save"></i>
                    <span>Guardar Compra</span>
                </button>
            </div>
        </div>

        <!-- Calendario Sanitario -->
        <div id="calendar-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-calendar" class="logout-button" onclick="showScreen('home')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Calendario Sanitario</h2>
                    </div>
                </div>
            </div>

            <div style="padding: 1rem; padding-bottom: 5rem;">
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-circle alert-icon"></i>
                    <div class="alert-content">
                        <p>Vacunas Pr칩ximas</p>
                        <p>Tienes 3 vacunas pendientes en los pr칩ximos 30 d칤as</p>
                    </div>
                </div>

                <!-- Calendario Visual -->
                <div class="card" style="margin-bottom: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <button style="background: none; border: none; color: #16a34a; font-size: 1.5rem; cursor: pointer;">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h3 style="font-size: 1.25rem; font-weight: bold; color: #1f2937;">Noviembre 2025</h3>
                        <button style="background: none; border: none; color: #16a34a; font-size: 1.5rem; cursor: pointer;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <!-- D칤as de la semana -->
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; margin-bottom: 0.5rem; text-align: center;">
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Dom</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Lun</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Mar</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Mi칠</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Jue</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">Vie</div>
                        <div style="font-weight: 600; color: #6b7280; font-size: 0.875rem; padding: 0.5rem;">S치b</div>
                    </div>

                    <!-- D칤as del mes -->
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; text-align: center;">
                        <!-- D칤as vac칤os del mes anterior -->
                        <div style="padding: 0.75rem; color: #d1d5db;"></div>
                        <div style="padding: 0.75rem; color: #d1d5db;"></div>
                        <div style="padding: 0.75rem; color: #d1d5db;"></div>
                        <div style="padding: 0.75rem; color: #d1d5db;"></div>
                        <div style="padding: 0.75rem; color: #d1d5db;"></div>
                        
                        <!-- D칤as del mes -->
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">1</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">2</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">3</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">4</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">5</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">6</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">7</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">8</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">9</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">10</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">11</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">12</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">13</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">14</div>
                        <!-- D칤a actual -->
                        <div style="padding: 0.75rem; border-radius: 0.5rem; background-color: #16a34a; color: white; font-weight: bold; cursor: pointer;">15</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">16</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">17</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">18</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">19</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">20</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">21</div>
                        <!-- D칤a con vacuna -->
                        <div style="padding: 0.75rem; border-radius: 0.5rem; background-color: #fef2f2; border: 2px solid #ef4444; font-weight: bold; cursor: pointer; position: relative;">
                            22
                            <div style="position: absolute; bottom: 2px; left: 50%; transform: translateX(-50%); width: 4px; height: 4px; background-color: #ef4444; border-radius: 50%;"></div>
                        </div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">23</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">24</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">25</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">26</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">27</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">28</div>
                        <div style="padding: 0.75rem; border-radius: 0.5rem; cursor: pointer;">29</div>
                        <!-- D칤a con vacuna -->
                        <div style="padding: 0.75rem; border-radius: 0.5rem; background-color: #fef9c3; border: 2px solid #eab308; font-weight: bold; cursor: pointer; position: relative;">
                            30
                            <div style="position: absolute; bottom: 2px; left: 50%; transform: translateX(-50%); width: 4px; height: 4px; background-color: #eab308; border-radius: 50%;"></div>
                        </div>
                    </div>

                    <!-- Leyenda -->
                    <div style="display: flex; gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e7eb; flex-wrap: wrap; justify-content: center;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 1rem; height: 1rem; background-color: #16a34a; border-radius: 0.25rem;"></div>
                            <span style="font-size: 0.875rem; color: #6b7280;">Hoy</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 1rem; height: 1rem; background-color: #fef2f2; border: 2px solid #ef4444; border-radius: 0.25rem;"></div>
                            <span style="font-size: 0.875rem; color: #6b7280;">Urgente (7 d칤as)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 1rem; height: 1rem; background-color: #fef9c3; border: 2px solid #eab308; border-radius: 0.25rem;"></div>
                            <span style="font-size: 0.875rem; color: #6b7280;">Pr칩xima (15 d칤as)</span>
                        </div>
                    </div>
                </div>

                <h3 style="font-size: 1.25rem; font-weight: bold; color: #1f2937; margin-bottom: 1rem; margin-top: 1.5rem;">Pr칩ximas Vacunas</h3>

                <div class="card" style="margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                        <div>
                            <p style="font-size: 1.25rem; font-weight: bold; color: #1f2937;">Paloma</p>
                            <p style="color: #6b7280;">Arete: 1600000001</p>
                        </div>
                        <div style="padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 600; background-color: #fee2e2; color: #b91c1c;">
                            7 d칤as
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding-top: 0.75rem; border-top: 1px solid #e5e7eb;">
                        <div>
                            <p style="font-weight: 600; color: #374151;">Brucelosis</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">22 de noviembre, 2025</p>
                        </div>
                        <i class="fas fa-syringe" style="font-size: 1.5rem; color: #ef4444;"></i>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                        <div>
                            <p style="font-size: 1.25rem; font-weight: bold; color: #1f2937;">Luna</p>
                            <p style="color: #6b7280;">Arete: 1600000002</p>
                        </div>
                        <div style="padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 600; background-color: #fef3c7; color: #a16207;">
                            15 d칤as
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding-top: 0.75rem; border-top: 1px solid #e5e7eb;">
                        <div>
                            <p style="font-weight: 600; color: #374151;">Fiebre Aftosa</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">30 de noviembre, 2025</p>
                        </div>
                        <i class="fas fa-syringe" style="font-size: 1.5rem; color: #ef4444;"></i>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                        <div>
                            <p style="font-size: 1.25rem; font-weight: bold; color: #1f2937;">Estrella</p>
                            <p style="color: #6b7280;">Arete: 1600000003</p>
                        </div>
                        <div style="padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 600; background-color: #dcfce7; color: #15803d;">
                            28 d칤as
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding-top: 0.75rem; border-top: 1px solid #e5e7eb;">
                        <div>
                            <p style="font-weight: 600; color: #374151;">Desparasitaci칩n</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">13 de diciembre, 2025</p>
                        </div>
                        <i class="fas fa-syringe" style="font-size: 1.5rem; color: #ef4444;"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Inversiones -->
        <div id="investments-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-investments" class="logout-button" onclick="showScreen('home')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Inversiones Totales</h2>
                    </div>
                </div>
            </div>

            <div style="padding: 1rem; padding-bottom: 5rem;">
                <div class="investment-card" style="margin-bottom: 1rem;">
                    <p style="font-size: 1.125rem; opacity: 0.9;">Inversi칩n Total Acumulada</p>
                    <p style="font-size: 3rem; font-weight: bold; margin-top: 0.5rem;">$87,450</p>
                    <p style="font-size: 0.875rem; opacity: 0.9; margin-top: 0.25rem;">MXN</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                    <div class="card" style="background-color: #f3e8ff; text-align: center;">
                        <p style="font-size: 0.875rem; color: #7e22ce; font-weight: 600;">Total Ventas</p>
                        <p style="font-size: 2rem; font-weight: bold; color: #6b21a8; margin-top: 0.5rem;">$45,000</p>
                    </div>
                    <div class="card" style="background-color: #dcfce7; text-align: center;">
                        <p style="font-size: 0.875rem; color: #15803d; font-weight: 600;">Ganancia Total</p>
                        <p style="font-size: 2rem; font-weight: bold; color: #166534; margin-top: 0.5rem;">$12,550</p>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <h3 style="font-size: 1.125rem; font-weight: bold; color: #1f2937; margin-bottom: 1rem;">Inversi칩n por Animal</h3>
                    
                    <div style="margin-bottom: 0.75rem; padding: 1rem; background-color: #f9fafb; border-radius: 0.75rem; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="font-weight: 600; color: #1f2937;">Paloma</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">Arete: 1600000001</p>
                        </div>
                        <p style="font-size: 1.25rem; font-weight: bold; color: #16a34a;">$28,450</p>
                    </div>

                    <div style="margin-bottom: 0.75rem; padding: 1rem; background-color: #f9fafb; border-radius: 0.75rem; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="font-weight: 600; color: #1f2937;">Luna</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">Arete: 1600000002</p>
                            <p style="font-size: 0.75rem; color: #7e22ce; margin-top: 0.25rem;">Vendido</p>
                        </div>
                        <p style="font-size: 1.25rem; font-weight: bold; color: #16a34a;">$32,000</p>
                    </div>

                    <div style="margin-bottom: 0.75rem; padding: 1rem; background-color: #f9fafb; border-radius: 0.75rem; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="font-weight: 600; color: #1f2937;">Estrella</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">Arete: 1600000003</p>
                        </div>
                        <p style="font-size: 1.25rem; font-weight: bold; color: #16a34a;">$27,000</p>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <i class="fas fa-download" style="color: #3b82f6;"></i>
                        <h3 style="font-size: 1.125rem; font-weight: bold; color: #1f2937;">Reportes Autom치ticos</h3>
                    </div>
                    
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background-color: #dbeafe; border-radius: 0.75rem; margin-bottom: 0.75rem;">
                        <div>
                            <p style="font-weight: 600; color: #1f2937;">Reporte Semanal PDF</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">Enviar cada lunes</p>
                        </div>
                        <label style="position: relative; display: inline-block; width: 3rem; height: 1.75rem;">
                            <input type="checkbox" style="opacity: 0; width: 0; height: 0;">
                            <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #16a34a; border-radius: 9999px; transition: 0.4s;"></span>
                            <span style="position: absolute; content: ''; height: 1.25rem; width: 1.25rem; left: 0.25rem; bottom: 0.25rem; background-color: white; border-radius: 50%; transition: 0.4s;"></span>
                        </label>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background-color: #f3f4f6; border-radius: 0.75rem;">
                        <div>
                            <p style="font-weight: 600; color: #1f2937;">Reporte Mensual PDF</p>
                            <p style="font-size: 0.875rem; color: #6b7280;">Primer d칤a del mes</p>
                        </div>
                        <label style="position: relative; display: inline-block; width: 3rem; height: 1.75rem;">
                            <input type="checkbox" style="opacity: 0; width: 0; height: 0;">
                            <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #d1d5db; border-radius: 9999px; transition: 0.4s;"></span>
                            <span style="position: absolute; content: ''; height: 1.25rem; width: 1.25rem; left: 0.25rem; bottom: 0.25rem; background-color: white; border-radius: 50%; transition: 0.4s;"></span>
                        </label>
                    </div>
                </div>

                <button class="action-large btn-blue">
                    <i class="fas fa-download"></i>
                    <span>Descargar Reporte Ahora</span>
                </button>
            </div>
        </div>

        <!-- Recordatorios -->
        <div id="reminders-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-reminders" class="logout-button" onclick="showScreen('home')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Recordatorios</h2>
                    </div>
                </div>
            </div>

            <div style="padding: 1rem; padding-bottom: 5rem;">
                <button class="action-large btn-purple" style="margin-bottom: 1rem;">
                    <i class="fas fa-plus"></i>
                    <span>Nuevo Recordatorio</span>
                </button>

                <div class="reminder-card">
                    <div class="reminder-header">
                        <div>
                            <p class="reminder-title">Alimentaci칩n Matutina</p>
                            <p class="reminder-time">06:00 AM</p>
                        </div>
                        <div class="reminder-status status-active">Activo</div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 0.75rem;">Dar concentrado a todos los animales</p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span class="day-badge">Lun</span>
                        <span class="day-badge">Mar</span>
                        <span class="day-badge">Mi칠</span>
                        <span class="day-badge">Jue</span>
                        <span class="day-badge">Vie</span>
                        <span class="day-badge">S치b</span>
                        <span class="day-badge">Dom</span>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;">
                        <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem;">Aplicar a:</p>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <span style="padding: 0.25rem 0.75rem; background-color: #dcfce7; color: #166534; border-radius: 9999px; font-size: 0.875rem; font-weight: 600;">Paloma</span>
                            <span style="padding: 0.25rem 0.75rem; background-color: #dcfce7; color: #166534; border-radius: 9999px; font-size: 0.875rem; font-weight: 600;">Luna</span>
                            <span style="padding: 0.25rem 0.75rem; background-color: #dcfce7; color: #166534; border-radius: 9999px; font-size: 0.875rem; font-weight: 600;">Estrella</span>
                        </div>
                    </div>
                </div>

                <div class="reminder-card">
                    <div class="reminder-header">
                        <div>
                            <p class="reminder-title">Revisi칩n Veterinaria</p>
                            <p class="reminder-time">10:00 AM</p>
                        </div>
                        <div class="reminder-status status-inactive">Inactivo</div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 0.75rem;">Chequeo mensual de salud</p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span class="day-badge">Primer lunes del mes</span>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;">
                        <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem;">Aplicar a:</p>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <span style="padding: 0.25rem 0.75rem; background-color: #dcfce7; color: #166534; border-radius: 9999px; font-size: 0.875rem; font-weight: 600;">Paloma</span>
                        </div>
                    </div>
                </div>

                <div class="reminder-card">
                    <div class="reminder-header">
                        <div>
                            <p class="reminder-title">Limpieza de Instalaciones</p>
                            <p class="reminder-time">08:00 AM</p>
                        </div>
                        <div class="reminder-status status-active">Activo</div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 0.75rem;">Limpieza profunda del establo</p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span class="day-badge">S치b</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recomendaciones -->
        <div id="recommendations-screen" class="hidden">
            <div class="header">
                <div class="header-content">
                    <div class="user-info">
                        <button id="back-from-recommendations" class="logout-button" onclick="showScreen('home')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="app-title">Recomendaciones Nutricionales</h2>
                    </div>
                </div>
            </div>

            <div style="padding: 1rem; padding-bottom: 5rem;">
                <div style="background-color: #dbeafe; border: 2px solid #3b82f6; border-radius: 1rem; padding: 1rem; margin-bottom: 1rem; display: flex; align-items: flex-start; gap: 0.75rem;">
                    <i class="fas fa-info-circle" style="font-size: 1.5rem; color: #1e40af; margin-top: 0.125rem;"></i>
                    <div>
                        <p style="font-weight: bold; color: #1e3a8a;">Informaci칩n de Referencia</p>
                        <p style="font-size: 0.875rem; color: #1e40af; margin-top: 0.25rem;">Estas son recomendaciones generales. Consulta con un veterinario para un plan espec칤fico.</p>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <h3 style="font-size: 1.5rem; font-weight: bold; color: #1f2937; margin-bottom: 1rem;">Cr칤a (0-12 meses)</h3>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Leche materna o sustituto</p>
                            <span class="recommendation-quantity">4-6 litros/d칤a</span>
                        </div>
                        <p class="recommendation-description">Durante los primeros 3 meses. Fundamental para el desarrollo inicial.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Concentrado Iniciador</p>
                            <span class="recommendation-quantity">0.5-1 kg/d칤a</span>
                        </div>
                        <p class="recommendation-description">A partir del mes de edad. Fundamental para el desarrollo de becerros.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Forraje de Calidad</p>
                            <span class="recommendation-quantity">A libre acceso</span>
                        </div>
                        <p class="recommendation-description">Alfalfa o pasto tierno. Importante para la salud digestiva.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Agua Limpia</p>
                            <span class="recommendation-quantity">A libre acceso</span>
                        </div>
                        <p class="recommendation-description">Fundamental para el desarrollo. Cambiar diariamente.</p>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 1rem;">
                    <h3 style="font-size: 1.5rem; font-weight: bold; color: #1f2937; margin-bottom: 1rem;">Adultos (12+ meses)</h3>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Forraje Base</p>
                            <span class="recommendation-quantity">8-12 kg/d칤a</span>
                        </div>
                        <p class="recommendation-description">Alfalfa, pasto o heno de calidad. Base de la alimentaci칩n.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Concentrado</p>
                            <span class="recommendation-quantity">3-5 kg/d칤a</span>
                        </div>
                        <p class="recommendation-description">Seg칰n producci칩n l치ctea o engorda. Ajustar seg칰n necesidades.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Suplemento Mineral</p>
                            <span class="recommendation-quantity">50-100 g/d칤a</span>
                        </div>
                        <p class="recommendation-description">Sales minerales especiales para ganado. Previene deficiencias nutricionales.</p>
                    </div>

                    <div class="recommendation-item">
                        <div class="recommendation-header">
                            <p class="recommendation-name">Agua</p>
                            <span class="recommendation-quantity">40-60 litros/d칤a</span>
                        </div>
                        <p class="recommendation-description">Esencial para todas las funciones. Mayor cantidad en clima c치lido.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notificaci칩n -->
        <div id="notification" class="notification hidden">
            <i class="fas fa-check"></i>
            <p id="notification-text">Mensaje de notificaci칩n</p>
        </div>

        <!-- Bot칩n de inicio -->
        <button id="home-button" class="home-button hidden">
            <i class="fas fa-home"></i>
        </button>
    </div>

    <script>
        // Datos de la aplicaci칩n
        let appData = {
            currentScreen: 'login',
            user: null,
            animals: [],
            selectedAnimal: null,
            searchTerm: '',
            filterStatus: 'all'
        };

        // Inicializar la aplicaci칩n
        function initApp() {
            // Cargar datos guardados
            const savedUser = localStorage.getItem('agroapp-user');
            const savedAnimals = localStorage.getItem('agroapp-animals');
            
            if (savedUser) {
                appData.user = JSON.parse(savedUser);
                showScreen('home');
                updateUserInfo();
            }
            
            if (savedAnimals) {
                appData.animals = JSON.parse(savedAnimals);
            } else {
                // Datos de ejemplo
                appData.animals = [
                    {
                        id: '001',
                        arete: '1600000001',
                        nombre: 'Paloma',
                        raza: 'Holstein',
                        sexo: 'Hembra',
                        peso: 450,
                        fechaNacimiento: '2023-03-15',
                        fechaRegistro: '2023-03-20',
                        color: 'Blanco/Negro',
                        precioCompra: 15000,
                        precioVenta: null,
                        fechaVenta: null,
                        foto: null,
                        vacunas: [
                            { id: 1, fecha: '2024-01-15', tipo: 'Brucelosis', proxima: '2025-01-15', costo: 200 },
                            { id: 2, fecha: '2024-06-10', tipo: 'Fiebre Aftosa', proxima: '2024-12-10', costo: 250 }
                        ],
                        alimentacion: [
                            { id: 1, hora: '06:00', tipo: 'Concentrado', cantidad: '3 kg' },
                            { id: 2, hora: '18:00', tipo: 'Forraje', cantidad: '5 kg' }
                        ],
                        gastos: [
                            { id: 1, concepto: 'Alimento - Alfalfa', monto: 2400, fecha: '2024-10-01', tipo: 'Alimento' },
                            { id: 2, concepto: 'Medicamento - Antibi칩tico', monto: 350, fecha: '2024-09-15', tipo: 'Gasto M칠dico' }
                        ],
                        historialClinico: [
                            {
                                id: 1,
                                fecha: '2024-09-10',
                                sintomas: 'Fiebre y p칠rdida de apetito',
                                estado: 'Resuelta',
                                evolucion: [
                                    { fecha: '2024-09-10', nota: 'Inicio de s칤ntomas, temperatura 40춿C' },
                                    { fecha: '2024-09-12', nota: 'Mejora notable, temperatura 38.5춿C' },
                                    { fecha: '2024-09-15', nota: 'Recuperaci칩n completa' }
                                ],
                                tratamiento: 'Antibi칩tico - 5 d칤as'
                            }
                        ],
                        estado: 'Sano'
                    }
                ];
                saveAnimals();
            }
            
            updateHomeStats();
            setupEventListeners();
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Login
            document.getElementById('login-button').addEventListener('click', handleLogin);
            document.getElementById('toggle-password').addEventListener('click', togglePasswordVisibility);
            document.getElementById('logout-button').addEventListener('click', handleLogout);
            
            // Navegaci칩n
            document.getElementById('back-from-animals').addEventListener('click', () => showScreen('home'));
            document.getElementById('back-from-detail').addEventListener('click', () => showScreen('animals'));
            document.getElementById('back-from-add').addEventListener('click', () => showScreen('home'));
            document.getElementById('home-button').addEventListener('click', () => showScreen('home'));
            
            // Men칰 principal
            document.querySelectorAll('.menu-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const screen = e.currentTarget.getAttribute('data-screen');
                    showScreen(screen);
                });
            });
            
            // B칰squeda y filtros
            document.getElementById('animal-search').addEventListener('input', (e) => {
                appData.searchTerm = e.target.value;
                renderAnimalsList();
            });
            
            document.querySelectorAll('.filter-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    // Actualizar estado activo
                    document.querySelectorAll('.filter-button').forEach(btn => {
                        btn.classList.remove('filter-active');
                        btn.classList.add('filter-inactive');
                    });
                    e.target.classList.remove('filter-inactive');
                    e.target.classList.add('filter-active');
                    
                    appData.filterStatus = e.target.getAttribute('data-filter');
                    renderAnimalsList();
                });
            });
            
            // Formulario de animal
            document.getElementById('animal-breed').addEventListener('change', (e) => {
                const customContainer = document.getElementById('custom-breed-container');
                if (e.target.value === 'Otra') {
                    customContainer.classList.remove('hidden');
                } else {
                    customContainer.classList.add('hidden');
                }
            });
            
            document.getElementById('female-button').addEventListener('click', () => {
                document.getElementById('female-button').classList.add('radio-active');
                document.getElementById('female-button').classList.remove('radio-inactive');
                document.getElementById('male-button').classList.remove('radio-active');
                document.getElementById('male-button').classList.add('radio-inactive');
            });
            
            document.getElementById('male-button').addEventListener('click', () => {
                document.getElementById('male-button').classList.add('radio-active');
                document.getElementById('male-button').classList.remove('radio-inactive');
                document.getElementById('female-button').classList.remove('radio-active');
                document.getElementById('female-button').classList.add('radio-inactive');
            });
            
            document.getElementById('save-animal').addEventListener('click', handleSaveAnimal);
            
            // Foto del animal
            document.getElementById('photo-input').addEventListener('change', handlePhotoUpload);
            document.getElementById('remove-photo').addEventListener('click', removePhoto);
        }

        // Manejar login
        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                showNotification('Por favor completa todos los campos');
                return;
            }
            
            // Verificar si es primer uso
            const savedCreds = localStorage.getItem('agroapp-credentials');
            
            if (!savedCreds) {
                // Primer uso - Crear credenciales
                const credentials = { username, password };
                localStorage.setItem('agroapp-credentials', JSON.stringify(credentials));
                const newUser = { username, loginTime: new Date().toISOString() };
                localStorage.setItem('agroapp-user', JSON.stringify(newUser));
                appData.user = newUser;
                showNotification('Cuenta creada exitosamente');
            } else {
                // Verificar credenciales
                const savedCredsObj = JSON.parse(savedCreds);
                if (savedCredsObj.username === username && savedCredsObj.password === password) {
                    const loggedUser = { username, loginTime: new Date().toISOString() };
                    localStorage.setItem('agroapp-user', JSON.stringify(loggedUser));
                    appData.user = loggedUser;
                    showNotification('Bienvenido de nuevo');
                } else {
                    showNotification('Usuario o contrase침a incorrectos');
                    return;
                }
            }
            
            updateUserInfo();
            showScreen('home');
        }

        // Manejar logout
        function handleLogout() {
            localStorage.removeItem('agroapp-user');
            appData.user = null;
            showScreen('login');
            showNotification('Sesi칩n cerrada');
        }

        // Mostrar/ocultar contrase침a
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('password');
            const toggleIcon = document.getElementById('toggle-password').querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        }

        // Cambiar pantalla
        function showScreen(screenName) {
            // Ocultar todas las pantallas
            document.querySelectorAll('[id$="-screen"]').forEach(screen => {
                screen.classList.add('hidden');
            });
            
            // Mostrar pantalla solicitada
            document.getElementById(`${screenName}-screen`).classList.remove('hidden');
            
            // Actualizar estado
            appData.currentScreen = screenName;
            
            // Mostrar/ocultar bot칩n de inicio
            if (screenName === 'home' || screenName === 'login') {
                document.getElementById('home-button').classList.add('hidden');
            } else {
                document.getElementById('home-button').classList.remove('hidden');
            }
            
            // Ejecutar acciones espec칤ficas de pantalla
            switch(screenName) {
                case 'home':
                    updateHomeStats();
                    break;
                case 'animals':
                    renderAnimalsList();
                    break;
                case 'add-animal':
                    resetAnimalForm();
                    break;
            }
        }

        // Actualizar informaci칩n del usuario
        function updateUserInfo() {
            if (appData.user) {
                document.getElementById('user-name').textContent = appData.user.username;
            }
        }

        // Actualizar estad칤sticas de inicio
        function updateHomeStats() {
            const animalesActivos = appData.animals.filter(a => !a.fechaVenta && a.estado !== 'Muerto');
            const animalesSanos = appData.animals.filter(a => a.estado === 'Sano');
            const animalesVendidos = appData.animals.filter(a => a.fechaVenta);
            const animalesMuertos = appData.animals.filter(a => a.estado === 'Muerto');
            
            document.getElementById('active-animals').textContent = animalesActivos.length;
            document.getElementById('healthy-animals').textContent = animalesSanos.length;
            document.getElementById('sold-animals').textContent = animalesVendidos.length;
            document.getElementById('dead-animals').textContent = animalesMuertos.length;
            
            // Actualizar alerta de vacunas
            const vacunasPendientes = getVacunasPendientes();
            if (vacunasPendientes.length > 0) {
                document.getElementById('vaccine-alert').classList.remove('hidden');
                document.getElementById('vaccine-alert-text').textContent = 
                    `Tienes ${vacunasPendientes.length} vacuna${vacunasPendientes.length !== 1 ? 's' : ''} pr칩xima${vacunasPendientes.length !== 1 ? 's' : ''} en los pr칩ximos 30 d칤as`;
                
                // Actualizar badge
                document.getElementById('vaccine-badge').textContent = vacunasPendientes.length;
                document.getElementById('vaccine-badge').classList.remove('hidden');
            } else {
                document.getElementById('vaccine-alert').classList.add('hidden');
                document.getElementById('vaccine-badge').classList.add('hidden');
            }
        }

        // Obtener vacunas pendientes
        function getVacunasPendientes() {
            const pendientes = [];
            appData.animals.forEach(animal => {
                if (animal.vacunas) {
                    animal.vacunas.forEach(vac => {
                        const proxima = new Date(vac.proxima);
                        const hoy = new Date();
                        const diasRestantes = Math.ceil((proxima - hoy) / (1000 * 60 * 60 * 24));
                        
                        if (diasRestantes <= 30 && diasRestantes >= 0) {
                            pendientes.push({
                                animal: animal.nombre,
                                arete: animal.arete,
                                vacuna: vac.tipo,
                                fecha: vac.proxima,
                                dias: diasRestantes
                            });
                        }
                    });
                }
            });
            return pendientes.sort((a, b) => a.dias - b.dias);
        }

        // Renderizar lista de animales
        function renderAnimalsList() {
            const container = document.getElementById('animals-list');
            container.innerHTML = '';
            
            const filteredAnimals = appData.animals.filter(animal => {
                const matchesSearch = animal.nombre.toLowerCase().includes(appData.searchTerm.toLowerCase()) ||
                                   animal.arete.includes(appData.searchTerm);
                
                const matchesFilter = appData.filterStatus === 'all' ? true :
                                   appData.filterStatus === 'vendidos' ? animal.fechaVenta :
                                   appData.filterStatus === 'muertos' ? animal.estado === 'Muerto' :
                                   appData.filterStatus === 'activos' ? !animal.fechaVenta && animal.estado !== 'Muerto' :
                                   animal.estado === appData.filterStatus;
                
                return matchesSearch && matchesFilter;
            });
            
            if (filteredAnimals.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-cow"></i>
                        <p>No se encontraron animales</p>
                        ${appData.searchTerm ? '<button id="clear-search">Limpiar b칰squeda</button>' : ''}
                    </div>
                `;
                
                if (appData.searchTerm) {
                    document.getElementById('clear-search').addEventListener('click', () => {
                        document.getElementById('animal-search').value = '';
                        appData.searchTerm = '';
                        renderAnimalsList();
                    });
                }
                return;
            }
            
            filteredAnimals.forEach(animal => {
                const animalCard = document.createElement('div');
                animalCard.className = 'animal-card';
                animalCard.addEventListener('click', () => {
                    appData.selectedAnimal = animal;
                    showAnimalDetail();
                });
                
                let statusClass = 'status-sano';
                let statusText = animal.estado;
                
                if (animal.fechaVenta) {
                    statusClass = 'status-vendido';
                    statusText = 'Vendido';
                } else if (animal.estado === 'Muerto') {
                    statusClass = 'status-muerto';
                    statusText = 'Fallecido';
                } else if (animal.estado === 'Enfermo') {
                    statusClass = 'status-enfermo';
                }
                
                animalCard.innerHTML = `
                    <div class="animal-card-content">
                        <div class="animal-info">
                            <div class="animal-avatar">
                                ${animal.foto ? 
                                    `<img src="${animal.foto}" alt="${animal.nombre}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">` :
                                    `<i class="fas fa-cow"></i>`
                                }
                            </div>
                            <div class="animal-details">
                                <p>${animal.nombre}</p>
                                <p>Arete: ${animal.arete}</p>
                                <p>${animal.raza}</p>
                            </div>
                        </div>
                        <div class="animal-status">
                            <div class="status-badge ${statusClass}">${statusText}</div>
                            <p class="animal-weight">${animal.peso} kg</p>
                        </div>
                    </div>
                `;
                
                container.appendChild(animalCard);
            });
        }

        // Mostrar detalle del animal
        function showAnimalDetail() {
            if (!appData.selectedAnimal) return;
            
            showScreen('animal-detail');
            
            const container = document.getElementById('animal-detail-container');
            const animal = appData.selectedAnimal;
            
            let statusClass = 'status-sano';
            let statusText = animal.estado;
            
            if (animal.fechaVenta) {
                statusClass = 'status-vendido';
                statusText = 'Vendido';
            } else if (animal.estado === 'Muerto') {
                statusClass = 'status-muerto';
                statusText = 'Fallecido';
            } else if (animal.estado === 'Enfermo') {
                statusClass = 'status-enfermo';
            }
            
            // Calcular edad
            const edad = calcularEdad(animal.fechaNacimiento);
            
            // Calcular inversi칩n total
            const inversionTotal = calcularInversionTotal(animal);
            
            container.innerHTML = `
                <div class="card">
                    <div class="animal-header">
                        <div class="animal-main-info">
                            <div class="animal-large-avatar">
                                ${animal.foto ? 
                                    `<img src="${animal.foto}" alt="${animal.nombre}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">` :
                                    `<i class="fas fa-cow"></i>`
                                }
                            </div>
                            <div>
                                <p class="animal-id">ID: ${animal.arete}</p>
                            </div>
                        </div>
                        <div class="status-badge ${statusClass}">${statusText}</div>
                    </div>
                    
                    <div class="info-grid">
                        <div>
                            <p class="info-label">Raza</p>
                            <p class="info-value">${animal.raza}</p>
                        </div>
                        <div>
                            <p class="info-label">Sexo</p>
                            <p class="info-value">${animal.sexo}</p>
                        </div>
                        <div>
                            <p class="info-label">Peso</p>
                            <p class="info-value">${animal.peso} kg</p>
                        </div>
                        <div>
                            <p class="info-label">Edad</p>
                            <p class="info-value">${edad}</p>
                        </div>
                        <div>
                            <p class="info-label">Color</p>
                            <p class="info-value">${animal.color}</p>
                        </div>
                        <div>
                            <p class="info-label">Fecha Registro</p>
                            <p class="info-value">${new Date(animal.fechaRegistro).toLocaleDateString('es-MX')}</p>
                        </div>
                    </div>
                </div>
                
                <div class="investment-card">
                    <h3 class="investment-title">Inversi칩n Total</h3>
                    <p class="investment-value">$${inversionTotal.toLocaleString('es-MX')}</p>
                    <div class="investment-grid">
                        <div class="investment-item">
                            <p>Compra Inicial</p>
                            <p>$${(animal.precioCompra || 0).toLocaleString('es-MX')}</p>
                        </div>
                        ${animal.precioVenta ? `
                        <div class="investment-item">
                            <p>Precio Venta</p>
                            <p>$${animal.precioVenta.toLocaleString('es-MX')}</p>
                        </div>
                        ` : ''}
                    </div>
                    ${animal.precioVenta ? `
                    <div class="profit-loss ${calcularGanancia(animal) >= 0 ? 'profit' : 'loss'}">
                        <p>${calcularGanancia(animal) >= 0 ? 'Ganancia' : 'P칠rdida'}</p>
                        <p>$${Math.abs(calcularGanancia(animal)).toLocaleString('es-MX')}</p>
                    </div>
                    ` : ''}
                </div>

                <div class="tabs-container">
                    <button class="tab-button tab-active" data-tab="vacunas">Vacunas</button>
                    <button class="tab-button tab-inactive" data-tab="historial">Historial Cl칤nico</button>
                    <button class="tab-button tab-inactive" data-tab="gastos">Gastos</button>
                    <button class="tab-button tab-inactive" data-tab="alimentacion">Alimentaci칩n</button>
                </div>

                <div id="tab-content-vacunas" class="tab-content">
                    ${animal.vacunas && animal.vacunas.length > 0 ? `
                        ${animal.vacunas.map(vacuna => `
                            <div class="vaccine-item">
                                <div class="item-header">
                                    <span class="item-title">${vacuna.tipo}</span>
                                    <span class="item-date">${new Date(vacuna.fecha).toLocaleDateString('es-MX')}</span>
                                </div>
                                <div class="item-details">
                                    <p>Pr칩xima aplicaci칩n: ${new Date(vacuna.proxima).toLocaleDateString('es-MX')}</p>
                                    <p class="item-cost">Costo: $${vacuna.costo.toLocaleString('es-MX')}</p>
                                </div>
                            </div>
                        `).join('')}
                        <div class="total-section">
                            <p class="total-label">Total en Vacunas</p>
                            <p class="total-amount">$${animal.vacunas.reduce((sum, v) => sum + v.costo, 0).toLocaleString('es-MX')}</p>
                        </div>
                    ` : '<p style="text-align: center; color: #6b7280; padding: 2rem;">No hay vacunas registradas</p>'}
                </div>

                <div id="tab-content-historial" class="tab-content hidden">
                    ${animal.historialClinico && animal.historialClinico.length > 0 ? `
                        ${animal.historialClinico.map(registro => `
                            <div class="history-item">
                                <div class="item-header">
                                    <span class="item-title">${registro.diagnostico}</span>
                                    <span class="item-date">${new Date(registro.fecha).toLocaleDateString('es-MX')}</span>
                                </div>
                                <div class="item-details">
                                    <p><strong>S칤ntomas:</strong> ${registro.sintomas}</p>
                                    <p><strong>Tratamiento:</strong> ${registro.tratamiento}</p>
                                    ${registro.veterinario ? `<p><strong>Veterinario:</strong> ${registro.veterinario}</p>` : ''}
                                    ${registro.costo ? `<p class="item-cost">Costo: $${registro.costo.toLocaleString('es-MX')}</p>` : ''}
                                </div>
                            </div>
                        `).join('')}
                    ` : '<p style="text-align: center; color: #6b7280; padding: 2rem;">No hay historial cl칤nico registrado</p>'}
                </div>

                <div id="tab-content-gastos" class="tab-content hidden">
                    ${animal.gastos && animal.gastos.length > 0 ? `
                        ${animal.gastos.map(gasto => `
                            <div class="expense-item">
                                <div class="item-header">
                                    <span class="item-title">${gasto.concepto}</span>
                                    <span class="item-date">${new Date(gasto.fecha).toLocaleDateString('es-MX')}</span>
                                </div>
                                <div class="item-details">
                                    <p>Tipo: ${gasto.tipo}</p>
                                    <p class="item-cost">$${gasto.monto.toLocaleString('es-MX')}</p>
                                </div>
                            </div>
                        `).join('')}
                        <div class="total-section">
                            <p class="total-label">Total en Gastos</p>
                            <p class="total-amount">$${animal.gastos.reduce((sum, g) => sum + g.monto, 0).toLocaleString('es-MX')}</p>
                        </div>
                    ` : '<p style="text-align: center; color: #6b7280; padding: 2rem;">No hay gastos registrados</p>'}
                </div>

                <div id="tab-content-alimentacion" class="tab-content hidden">
                    ${animal.alimentacion && animal.alimentacion.length > 0 ? `
                        ${animal.alimentacion.map(comida => `
                            <div class="feeding-item">
                                <div class="item-header">
                                    <span class="item-title">${comida.tipo}</span>
                                    <span class="item-date">${comida.hora}</span>
                                </div>
                                <div class="item-details">
                                    <p>Cantidad: ${comida.cantidad}</p>
                                </div>
                            </div>
                        `).join('')}
                    ` : '<p style="text-align: center; color: #6b7280; padding: 2rem;">No hay horarios de alimentaci칩n registrados</p>'}
                </div>
                
                ${!animal.fechaVenta && animal.estado !== 'Muerto' ? `
                    <button class="action-large btn-purple">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Registrar Venta</span>
                    </button>
                ` : ''}
                
                <button id="delete-animal" class="action-large btn-red">
                    <i class="fas fa-trash"></i>
                    <span>Eliminar Animal</span>
                </button>
            `;

            // Event listeners para las pesta침as
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const tabName = e.target.getAttribute('data-tab');
                    
                    // Actualizar botones
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('tab-active');
                        btn.classList.add('tab-inactive');
                    });
                    e.target.classList.remove('tab-inactive');
                    e.target.classList.add('tab-active');
                    
                    // Mostrar contenido correspondiente
                    document.querySelectorAll('[id^="tab-content-"]').forEach(content => {
                        content.classList.add('hidden');
                    });
                    document.getElementById(`tab-content-${tabName}`).classList.remove('hidden');
                });
            });
            
            document.getElementById('contact-vet').addEventListener('click', () => {
                showNotification('Funci칩n de contacto en desarrollo');
            });
            
            document.getElementById('delete-animal').addEventListener('click', () => {
                if (confirm(`쮼st치s seguro de eliminar a ${animal.nombre}? Esta acci칩n no se puede deshacer.`)) {
                    const updated = appData.animals.filter(a => a.id !== animal.id);
                    appData.animals = updated;
                    saveAnimals();
                    showNotification('Animal eliminado correctamente');
                    showScreen('animals');
                }
            });
        }

        // Calcular edad
        function calcularEdad(fechaNacimiento) {
            const hoy = new Date();
            const nacimiento = new Date(fechaNacimiento);
            const meses = (hoy.getFullYear() - nacimiento.getFullYear()) * 12 + hoy.getMonth() - nacimiento.getMonth();
            return `${Math.floor(meses / 12)} a침os ${meses % 12} meses`;
        }

        // Calcular inversi칩n total
        function calcularInversionTotal(animal) {
            const gastosMedicina = animal.gastos
                ?.filter(g => g.tipo === 'Gasto M칠dico')
                .reduce((sum, g) => sum + g.monto, 0) || 0;
            
            const gastosAlimento = animal.gastos
                ?.filter(g => g.tipo === 'Alimento')
                .reduce((sum, g) => sum + g.monto, 0) || 0;
            
            const gastosVacunas = animal.vacunas
                ?.reduce((sum, v) => sum + (v.costo || 0), 0) || 0;
            
            return (animal.precioCompra || 0) + gastosMedicina + gastosAlimento + gastosVacunas;
        }

        // Calcular ganancia
        function calcularGanancia(animal) {
            if (!animal.precioVenta) return null;
            return animal.precioVenta - calcularInversionTotal(animal);
        }

        // Resetear formulario de animal
        function resetAnimalForm() {
            document.getElementById('animal-arete').value = '';
            document.getElementById('animal-name').value = '';
            document.getElementById('animal-breed').value = 'Holstein';
            document.getElementById('female-button').click();
            document.getElementById('animal-weight').value = '';
            document.getElementById('animal-price').value = '';
            document.getElementById('animal-birthdate').value = '';
            document.getElementById('animal-color').value = '';
            removePhoto();
        }

        // Manejar guardar animal
        function handleSaveAnimal() {
            const arete = document.getElementById('animal-arete').value;
            const nombre = document.getElementById('animal-name').value;
            let raza = document.getElementById('animal-breed').value;
            
            // Si seleccion칩 "Otra", usar la raza personalizada
            if (raza === 'Otra') {
                const customBreed = document.getElementById('custom-breed').value.trim();
                if (!customBreed) {
                    showNotification('Por favor ingresa el nombre de la raza');
                    return;
                }
                raza = customBreed;
            }
            
            const sexo = document.getElementById('female-button').classList.contains('radio-active') ? 'Hembra' : 'Macho';
            const peso = document.getElementById('animal-weight').value;
            const precioCompra = document.getElementById('animal-price').value;
            const fechaNacimiento = document.getElementById('animal-birthdate').value;
            const color = document.getElementById('animal-color').value;
            const foto = document.getElementById('animal-photo').src || null;
            
            if (!arete || !nombre || !peso || !precioCompra) {
                showNotification('Por favor completa los campos obligatorios (Arete, Nombre, Peso, Precio)');
                return;
            }

            // Validar formato SINIGA (10 d칤gitos)
            if (!/^\d{10}$/.test(arete)) {
                showNotification('El arete debe tener exactamente 10 d칤gitos (formato SINIGA)');
                return;
            }

            // Verificar unicidad del arete
            if (appData.animals.some(a => a.arete === arete)) {
                showNotification('Ya existe un animal con este n칰mero de arete');
                return;
            }

            const newAnimal = {
                id: arete,
                arete,
                nombre,
                raza,
                sexo,
                peso: parseFloat(peso),
                fechaNacimiento,
                fechaRegistro: new Date().toISOString().split('T')[0],
                color,
                precioCompra: parseFloat(precioCompra),
                foto,
                vacunas: [],
                alimentacion: [],
                gastos: [{
                    id: 1,
                    concepto: 'Compra Inicial',
                    monto: parseFloat(precioCompra),
                    fecha: new Date().toISOString().split('T')[0],
                    tipo: 'Compra'
                }],
                historialClinico: [],
                estado: 'Sano',
                precioVenta: null,
                fechaVenta: null
            };

            appData.animals.push(newAnimal);
            saveAnimals();
            showNotification('Animal registrado exitosamente');
            showScreen('animals');
        }

        // Manejar subida de foto
        function handlePhotoUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onloadend = () => {
                    document.getElementById('animal-photo').src = reader.result;
                    document.getElementById('photo-frame').classList.remove('hidden');
                    document.getElementById('photo-placeholder').classList.add('hidden');
                    showNotification('Foto capturada exitosamente');
                };
                reader.readAsDataURL(file);
            }
        }

        // Remover foto
        function removePhoto() {
            document.getElementById('photo-frame').classList.add('hidden');
            document.getElementById('photo-placeholder').classList.remove('hidden');
            document.getElementById('photo-input').value = '';
        }

        // Guardar animales en localStorage
        function saveAnimals() {
            localStorage.setItem('agroapp-animals', JSON.stringify(appData.animals));
            updateHomeStats();
        }

        // Mostrar notificaci칩n
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // Inicializar la aplicaci칩n cuando se carga la p치gina
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>